<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surf Ads ‚Äì Click for Charity</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <button class="menu-toggle" aria-controls="site-navigation" aria-expanded="false">‚ò∞ Menu</button>
    <div class="menu-overlay" data-menu-overlay></div>
    <div class="container">
        <aside class="sidebar" id="site-navigation">
            <div class="logo">
                <img src="images/logo.svg" alt="Click for Charity" width="40" height="40">
                <span>Click for Charity</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li class="active"><a href="ptc.html">Surf Ads</a></li>
                    <li><a href="simple-tasks.html">Simple Tasks</a></li>
                    <li><a href="skipped-tasks.html">Skipped Tasks</a></li>
                    <li><a href="surveys.html">Surveys</a></li>
                    <li><a href="offers.html">Offers</a></li>
                    <li class="admin-only"><a href="admin.html">Admin</a></li>
                    <li><button id="sync-balance-btn" onclick="window.unifiedBalance?.syncBalance()" title="Refresh balance" style="border:none;background:none;cursor:pointer;font-size:13px;padding:8px;width:100%;text-align:left;">üîÑ Sync <span class="sync-help" onclick="event.stopPropagation();window.location.href='/balance-sync-help.html';" style="font-size:11px;opacity:0.7;">(?)</span></button></li>
                </ul>
            </nav>
            <!-- User Menu Area (bottom of sidebar) -->
            <div class="user-select-container">
                <!-- Login Button (shown when not logged in) -->
                <button id="login-button" class="btn-login" onclick="window.auth.login()" style="display: block;">
                    üîê Login
                </button>
                
                <!-- User Menu (shown when logged in) -->
                <div id="user-menu" class="user-menu" style="display: none;">
                    <div class="user-menu-header" onclick="toggleUserDropdown()">
                        <span class="user-avatar">üë§</span>
                        <div class="user-info">
                            <span id="username-display" class="username">User</span>
                            <span class="user-balance"><span class="balance">0</span> <span class="currency">tokens</span></span>
                        </div>
                        <span class="dropdown-arrow">‚ñ≤</span>
                    </div>
                    
                    <!-- Dropdown Menu (pops upward) -->
                    <div id="user-dropdown" class="user-dropdown" style="display: none;">
                        <a href="profile.html" class="dropdown-item">üë§ Profile</a>
                        <a href="#" onclick="window.auth.logout(); return false;" class="dropdown-item">üö™ Logout</a>
                    </div>
                </div>
                
                <!-- Guest Mode Notice -->
                <p class="guest-only user-mode-hint" style="margin-top: 10px;">Sign up to save your earnings!</p>
            </div>
        </aside>
        <main class="main-content" data-menu-target>
            <header class="dashboard-header">
                <h1>Surf Ads</h1>
                <div class="user-stats">
                    <span>Balance: <span id="user-balance">0</span> <span id="user-balance-label">tokens</span></span>
                </div>
            </header>
            <section class="task-list-container">
                <h2>Available Tasks</h2>
                <div id="task-list" class="task-list">
                    <!-- Ads will be dynamically inserted here by JavaScript -->
                </div>
            </section>
        </main>
    </div>
    <script src="js/unified-balance.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/nav.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
